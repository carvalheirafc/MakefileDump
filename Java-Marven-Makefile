##This is a Java Makefile 
##File structure based on Apache Marven Standard Directory Layout
##Place this file in folder ./src/main/
## By Carvalheirafc

TARDIR = ../../target
SRCDIR = java


SUBDIR = controleBonificacoes/

CC = javac
CCFLAGS = -d $(TARDIR)

APPFILE = $(wildcard ./*java)
SRCFILES = $(wildcard $(SRCDIR)/$(SUBDIR)*.java)
$(info SRCFILES="$(SRCFILES)")

CLASSES = $(patsubst $(SRCDIR)/$(SUBDIR)%.java, %.class, $(SRCFILES))
$(info CLASSES="$(CLASSES)")

APPCLASSE = $(patsubst %.java, %.class, $(APPFILE))

all: $(CLASSES) $(APPCLASSE)

## All sources classes are created by this target
%.class: $(SRCDIR)/$(SUBDIR)%.java 
	$(CC) $(CCFLAGS) $<

## The main application class are cretae by this 
%.class: %.java
	$(CC) $(CCFLAGS) $<

clean: 
	rm -f $(TARDIR)/$(SRCDIR)/$(SUBDIR)*.class 
	rm -f $(TARDIR)/*.class
